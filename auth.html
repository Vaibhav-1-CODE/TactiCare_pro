<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ðŸ’Š TactiCare | Login</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial, sans-serif;}
body{
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:url('lll.png') center/cover no-repeat;
  position:relative;
  color:white;
}
.overlay{
  position:absolute;
  top:0; left:0;
  width:100%; height:100%;
  background:rgba(0,0,0,0.5);
  backdrop-filter:blur(3px);
}
.container{
  position:relative;
  z-index:2;
  background:rgba(255,255,255,0.12);
  padding:30px;
  border-radius:12px;
  width:320px;
  text-align:center;
  box-shadow:0 4px 20px rgba(0,0,0,0.4);
}
h1{
  margin-bottom:15px;
  font-size:2rem;
  text-shadow:0 3px 10px rgba(0,0,0,0.5);
}
.tabs button{
  width:50%;
  padding:10px;
  background:none;
  border:none;
  font-size:16px;
  color:white;
  cursor:pointer;
  border-bottom:2px solid transparent;
}
.tabs .active{
  border-bottom:2px solid #00eaff;
}
.form{
  display:none;
  margin-top:15px;
}
.form.active{
  display:block;
}
input{
  width:90%;
  padding:10px;
  margin:8px 0;
  border:none;
  border-radius:6px;
  outline:none;
}
.role-select{
  display:flex;
  justify-content:space-around;
  margin:8px 0;
}
.role-select label{
  cursor:pointer;
}
button.submit{
  width:100%;
  padding:12px;
  background:#00c4ff;
  border:none;
  border-radius:6px;
  color:white;
  font-size:16px;
  cursor:pointer;
  margin-top:10px;
}
.error{color:#ff8080;font-size:14px;margin-top:6px;}
</style>
</head>

<body>
<div class="overlay"></div>

<div class="container">
  <h1>ðŸ’Š TactiCare</h1>

  <div class="tabs">
    <button id="loginTab" class="active" onclick="showForm('login')">Login</button>
    <button id="signupTab" onclick="showForm('signup')">Sign Up</button>
  </div>

  <!-- LOGIN -->
  <form id="loginForm" class="form active">
    <input type="text" id="loginUser" placeholder="Username">
    <input type="password" id="loginPass" placeholder="Password">

    <div class="role-select">
      <label><input type="radio" name="loginRole" value="Patient"> Patient</label>
      <label><input type="radio" name="loginRole" value="Doctor"> Doctor</label>
    </div>

    <button type="submit" class="submit">Login</button>
    <p id="loginError" class="error"></p>
  </form>

  <!-- SIGNUP -->
  <form id="signupForm" class="form">
    <input type="text" id="fullname" placeholder="Full Name">
    <input type="text" id="username" placeholder="Username">
    <input type="email" id="email" placeholder="Email">
    <input type="password" id="password" placeholder="Password">
    <input type="password" id="confirm" placeholder="Confirm Password">

    <div class="role-select">
      <label><input type="radio" name="role" value="Patient"> Patient</label>
      <label><input type="radio" name="role" value="Doctor"> Doctor</label>
    </div>

    <button type="submit" class="submit">Sign Up</button>
    <p id="signupError" class="error"></p>
  </form>

</div>

<script>
function showForm(type){
  document.getElementById("loginForm").classList.remove("active");
  document.getElementById("signupForm").classList.remove("active");
  document.getElementById("loginTab").classList.remove("active");
  document.getElementById("signupTab").classList.remove("active");
  if(type==='login'){loginForm.classList.add("active");loginTab.classList.add("active");}
  else{signupForm.classList.add("active");signupTab.classList.add("active");}
}

// LOGIN
const loginForm = document.getElementById("loginForm");
const loginUser = document.getElementById("loginUser");
const loginPass = document.getElementById("loginPass");
const loginError = document.getElementById("loginError");

loginForm.addEventListener("submit", function(e){
  e.preventDefault();
  let u = loginUser.value.trim();
  let p = loginPass.value.trim();
  let r = document.querySelector('input[name="loginRole"]:checked');

  if(u===""||p===""||!r){
    loginError.textContent="Fill all fields!";
    return;
  }

  // Store user info
  localStorage.setItem("tacticareUser", u);
  localStorage.setItem("tacticareRole", r.value);

  // Redirect based on role
  if(r.value === "Doctor"){
      window.location.href = "doctor_dashboard.html"; // Doctor dashboard
  } else if(r.value === "Patient"){
      window.location.href = "index.html"; // Main website for patients
  }
});

// SIGNUP
const signupForm = document.getElementById("signupForm");
const password = document.getElementById("password");
const confirm = document.getElementById("confirm");
const signupError = document.getElementById("signupError");

signupForm.addEventListener("submit", function(e){
  e.preventDefault();
  if(password.value!==confirm.value){
    signupError.textContent="Passwords do not match!";
    return;
  }
  showForm('login');
  signupError.textContent="Account Created âœ… Please Login";
});
</script>

</body>
</html>
